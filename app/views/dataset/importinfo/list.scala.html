@import views.html.layout
@import views.html.table.paginatedTable
@import controllers.dataset.routes.{CsvDataSetImportController => dataSetImportRoutes}
@import util.typeColumns
@import play.api.mvc.Flash
@import play.api.i18n.Messages

@(
    page: Page[DataSetImportInfo]
)(implicit flash:Flash, msg: Messages, request: Request[_])

@actions = {
    <div class="row">
        <div class="col-md-8">
            @filter(page.filter, dataSetImportRoutes.find(), Left(Seq("dataSpaceName", "dataSetName")))
        </div>
        <div class="col-md-4">
            <a class="btn btn-success btn-sm pull-right" id="add" href="@dataSetImportRoutes.create()">Add a new import info</a>
        </div>
    </div>
}

@table = @{
    paginatedTable(
        page,
        dataSetImportRoutes.find(_, _, page.filter),
        typeColumns[DataSetImportInfo](
            (Some("dataSpaceName"), "Data Space Name", _.dataSpaceName),
            (Some("dataSetName"), "Data Set Name", _.dataSetName)
        ),
        Some({ item : Any => dataSetImportRoutes.get(item.asInstanceOf[DataSetImportInfo]._id.get)})
    )
}

@layout.list(
    "Data Set Import Info",
    page.total,
    actions,
    table,
    None
)