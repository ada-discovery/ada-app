@import controllers.dataset.DataSetRouter
@import models.DataSpaceMetaInfo
@import util.getParamValue

@(dataSpaceMetaInfos: Traversable[DataSpaceMetaInfo])(implicit request: RequestHeader)

@listItem(call: Call, dataSetId: String, text: String) = {
    @defining(getParamValue(request.uri, "dataSet")) { reqDataSetId =>
        <li @if(reqDataSetId.isDefined && reqDataSetId.get.equals(dataSetId)) { class="active" }>
            <a href="@call"><h4>@text</h4></a>
        </li>
    }
}

<!--
<h3 class="text-muted" align="center">Studies</h3>
<hr/>
-->
<ul class="sidebar-nav nav nav-pills nav-stacked">
    @dataSpaceMetaInfos.map { spaceMetaInfo =>
        <li><h3>@spaceMetaInfo.name</h3></li>
        @spaceMetaInfo.dataSetMetaInfos.map { setMetaInfo =>
            @listItem(new DataSetRouter(setMetaInfo.id).plainOverviewList, setMetaInfo.id, setMetaInfo.name)
        }
    }
</ul>