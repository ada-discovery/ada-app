@import views.html.dataset.jsonTable
@import play.api.libs.json.JsObject
@import models.Field
@import controllers.dataset.DataSetRouter

@(
    page: Page[JsObject],
    tableFields: Traversable[Field],
    dataSetRouter: DataSetRouter,
    withRowClickableJs: Boolean = false
)(
    implicit request: Request[_]
)

@jsonTable(
    page,
    tableFields,
    dataSetRouter.getTable(_, _,
        tableFields.map(_.name).toSeq,
        page.filter.map(_.conditionsOrId).getOrElse(Left(Nil))
    ),
    Some(dataSetRouter.get),
    withRowClickableJs,
    true
)