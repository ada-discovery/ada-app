@import controllers.dataset.DataSetWebContext._
@import controllers.dataset.DataSetWebContext

@(
    filterName: String
)(
    implicit context: DataSetWebContext
)

@helper.javascriptRouter("dataSetJsRoutes2")(
    dataSetJsRouter.getFieldTypeWithAllowedValues
)

<script src="@routes.WebJarAssets.at(context.webJarAssets.fullPath("bootstrap-select", "dist/js/bootstrap-select.min.js"))"></script>
<link rel="stylesheet" type="text/css" href="@routes.WebJarAssets.at(context.webJarAssets.fullPath("bootstrap-select", "dist/css/bootstrap-select.min.css"))">

<script type="text/javascript">

    $("#@filterName #fieldNameTypeahead").on('typeahead:select', function (e, field) {
        dataSetJsRoutes2.controllers.dataset.DataSetDispatcher.getFieldTypeWithAllowedValues(field.key).ajax( {
            success: function(data) {
                updateFilterValueElement($("#@filterName"), data)
            },
            error: function(data){
                showError(data.responseText);
            }
        });
     });
 </script>