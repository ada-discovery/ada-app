@import views.html.layout.main
@import views.html.chart._
@import models.DataPoint
@import play.api.mvc.Flash
@import play.api.i18n.Messages
@import models.FieldTypeId

@(
    domainName: String,
    fieldTypeCounts : Traversable[(FieldTypeId.Value, Int)]
)(
    implicit flash: Flash, msg: Messages, request: Request[_]
)

@main(Messages("typeOverview.title", domainName)) {

    <div class="page-header">
        <h3>
            @Messages("typeOverview.title", domainName)
        </h3>
    </div>

    <div class="row">
    @highcharts.pieChart(
        "",
        "typeChart",
        true,
        false,
        fieldTypeCounts.map{case (fieldType, count) => DataPoint(None, count, fieldType.toString) }.toSeq
    )
    </div>
}