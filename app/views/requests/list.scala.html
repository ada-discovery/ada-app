@import org.incal.play.controllers.WebContext
@import views.html.layout.main
@import views.html.layout
@import views.html.table.paginatedTable
@import views.html.filter.{filter, filterWithJs}
@import views.html.elements.labelValue
@import org.incal.play.Page
@import org.ada.web.util.typeColumns

@import reactivemongo.bson.BSONObjectID
@import org.incal.core.FilterCondition
@(
        page: Page[BatchOrderRequest],
        conditions: Seq[FilterCondition],
        userNames: Map[BSONObjectID, String]
 )(
        implicit context: WebContext
)

@table = @{
    paginatedTable(
        page,
        controllers.requests.routes.BatchOrderRequestsController.find(_, _, conditions),
        typeColumns[BatchOrderRequest](
            (Some("createdby"), "Requester name", _.createdByName.getOrElse("None")),
            (Some("timecreated"), "Date", _.timeCreated),
            (Some("state"), "Status", _.state)
        ),
        Some({ item : Any => controllers.requests.routes.BatchOrderRequestsController.get(item.asInstanceOf[BatchOrderRequest]._id.get)})
    )
}


@layout.list(
    "request",
    None,
    page.total,
    None,
    Some(table),
    None
)