@import org.incal.play.controllers.WebContext
@import views.html.layout.main
@import views.html.layout
@import views.html.table.paginatedTable
@import views.html.filter.{filter, filterWithJs}
@import views.html.elements.labelValue
@import org.incal.play.Page
@import org.ada.web.util.typeColumns

@import reactivemongo.bson.BSONObjectID
@import org.incal.core.FilterCondition
@(
        page: Page[(BatchOrderRequest, String)],
        conditions: Seq[FilterCondition]
 )(
        implicit context: WebContext
)

@table = @{
    paginatedTable(
        page,
        controllers.requests.routes.BatchOrderRequestsController.find(_, _, conditions),

        typeColumns[(BatchOrderRequest, String)](
            (Some("createdby"), "Requester name", _._2),
            (Some("timecreated"), "Date", _._1.timeCreated),
            (Some("state"), "Status", _._1.state)
        ),
        Some({ item : Any => controllers.requests.routes.BatchOrderRequestsController.get(item.asInstanceOf[(BatchOrderRequest,String)]._1._id.get)})
    )
}

@layout.list(
    "request",
    None,
    page.total,
    None,
    Some(table),
    None
)