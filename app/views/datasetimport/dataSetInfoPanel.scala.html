@import org.ada.server.models.dataimport.DataSetImport
@import views.html.elements._

@(form: Form[_ <: DataSetImport])(implicit msg: Messages)

<div class="panel panel-default">
    <div class="panel-heading">Data Set Info</div>
    <div class="panel-body">
        @inputText("dataSetImport", "dataSpaceName", form)
        @inputText("dataSetImport", "dataSetName", form)
        @inputText("dataSetImport", "dataSetId", form)
    </div>
</div>

<script type="text/javascript">
    $('#dataSpaceName').on('change keyup paste', updateDataSetId)
    $('#dataSetName').on('change keyup paste', updateDataSetId)

    function updateDataSetId() {
        var dataSpaceNamePart = $('#dataSpaceName').val().trim().replace(/[^a-zA-Z0-9]/g, "_").toLowerCase()
        var dataSetNamePart = $('#dataSetName').val().trim().replace(/[^a-zA-Z0-9]/g, "_").toLowerCase()
        $('#dataSetId').val(dataSpaceNamePart + "." + dataSetNamePart)
    }
</script>