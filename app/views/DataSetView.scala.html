@import models.DataSetFormattersAndIds
@import util.VennLayouter
@import views.html.layout.main

@(dataSets: Seq[Dictionary], history: String)(implicit request: RequestHeader)

@main("Study Selection") {

        <div class="page-header" align="center">
            <h2>Placeholder for data selection</h2>
            @if(history.length > 0){
                <div align="left"> <h4>History: @Html(history) </h4> </div>
            }
        </div>

        <!-- call to venn diagram module -->
        <div class="panel panel-info">
            <div class="panel-body" style="padding-bottom: 120px;">
            @{
                var dummyA = Dictionary(None, "A", List());
                var dummyB = Dictionary(None, "B", List());
                var dummyC = Dictionary(None, "C", List());
                views.html.chart.plotly.vennDiagram("selectedSets", List(dummyA, dummyB, dummyC).toSeq)
                /*views.html.chart.vennDiagram("", "selectedSets", VennLayouter.calculateCoordinates(dataSets))*/
            }
        </div>
        </div>

        <!-- Table with study information -->
        <table class="table table-hover table-responsive">
            <thead>
                <tr>
                    <th>Study Name</th>
                    <th>Number of Fields</th>
                </tr>
            </thead>
            <tbody>
                @dataSets.map{ element =>
                    <tr>
                        <td>@element.dataSetId</td>
                        <td>@element.fields.length</td>
                        @{//PB: no routes found / does not compile ( with or without 'Jans' prefix)
                        //<td> <a href=@routes.JansDataSetController.setOps(element.dataSetId, "+")> <button type="button" class="btn btn-success btn-block">Add</button> </a> </td>
                        //<td> <a href=@routes.JansDataSetController.setOps(element.dataSetId, "/")> <button type="button" class="btn btn-warning btn-block">Intersect</button> </a> </td>
                        //<td> <a href=@routes.JansDataSetController.setOps(element.dataSetId, "-")> <button type="button" class="btn btn-danger btn-block">Remove</button> </a> </td>
                        }
                    </tr>
                }
            </tbody>
        </table>
}
