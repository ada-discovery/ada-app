@import org.ada.server.models.datatrans.DataSetTransformation
@import views.html.elements._
@import org.ada.web.util.enumToValueString
@import org.ada.server.models.StorageType

@(form: Form[_ <: DataSetTransformation])(implicit msg: Messages)

<div class="panel panel-default">
    <div class="panel-heading">Result Data Set Info</div>
    <div class="panel-body">
        @inputText("dataSetTranslation", "resultDataSetSpec.name", form)
        @inputText("dataSetTranslation", "resultDataSetSpec.id", form)
        @select("dataSetTranslation", "resultDataSetSpec.storageType", form, enumToValueString(StorageType), false)
    </div>
</div>

<script type="text/javascript">
    $('#resultDataSetSpec\\.name').on('change keyup paste', updateDataSetId)

    function updateDataSetId() {
        var dataSetNamePart = $('#resultDataSetSpec\\.name').val().trim().replace(/[^a-zA-Z0-9]/g, "_").toLowerCase()
        $('#resultDataSetSpec\\.id').val("TODO." + dataSetNamePart)
    }
</script>