@import org.ada.web.util.typeColumns
@import org.incal.core.FilterCondition
@import org.incal.play.Page
@import org.incal.play.controllers.WebContext
@import views.html.layout
@import views.html.table.paginatedTable
@import reactivemongo.bson.BSONObjectID
@import org.incal.core.ConditionType
@import views.html.filter.filterWithJs

@(
    page: Page[BatchRequestSetting],
    conditions: Seq[FilterCondition]
)(
    implicit context: WebContext
)

@actions = {
    <div class="row">
        <div class="pull-right">
            <div class="dropdown">
                <button class="btn btn-info btn-sm dropdown-toggle" type="button" id="dropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Actions
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <a href="@controllers.orderrequest.routes.RequestSettingController.create()">
                            Add a new setting
                        </a>
                    </li>
                    <li>
                        <a href="@controllers.orderrequest.routes.RequestSettingController.copy()">
                            Copy a setting
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
}

@table = @{
    paginatedTable(
        page,
        controllers.orderrequest.routes.RequestSettingController.find(_, _, conditions),
        typeColumns[BatchRequestSetting](
            (Some("dataSetId"), "Dataset id", _.dataSetId),
            (Some("timeCreated"), "Date", _.timeCreated)
        ),
        Some({ item: Any => controllers.orderrequest.routes.RequestSettingController.edit(item.asInstanceOf[BatchRequestSetting]._id.get) })
    )
}

@layout.list(
    "request setting",
    None,
    page.total,
    Some(actions),
    Some(table),
    None
)