# Database configuration
# ~~~~~
# DO NOT EDIT/UPDATE IN PRODUCTION BUT USE custom.conf TO OVERRIDE!

///////////
// Mongo //
///////////

mongodb.db = "ada"
mongodb.db = ${?ADA_MONGO_DB_NAME}

mongodb.host = "localhost:27017"
mongodb.host = ${?ADA_MONGO_DB_HOST}

mongodb.username = "mongo_user"
mongodb.username = ${?ADA_MONGO_DB_USERNAME}

mongodb.password = "changeme"
mongodb.password = ${?ADA_MONGO_DB_PASSWORD}

# mongodb.uri ="mongodb://"${mongodb.host}"/"${mongodb.db}"?connectTimeoutMS=30000&socketTimeoutMS=30000&rm.keepAlive=true"
mongodb.uri = "mongodb://"${mongodb.username}":"${mongodb.password}"@"${mongodb.host}"/"${mongodb.db}"?authMode=scram-sha1&rm.nbChannelsPerNode=20"
mongodb.uri = ${?ADA_MONGO_DB_URI}

mongodb.connection.strictUri=true

////////////////////
// Elastic Search //
////////////////////

elastic.uri = "127.0.0.1:9300"
// elastic.uri = ${?ADA_ELASTIC_DB_HOST}

elastic.cluster.name = "elasticsearch"
// elastic.cluster.name = ${?ADA_ELASTIC_DB_CLUSTER_NAME}

elastic.threadpool.index.size = 30
// elastic.threadpool.index.size = ${?ADA_ELASTIC_THREADPOOL_INDEX_SIZE}

elastic.threadpool.bulk.size = 10
// elastic.threadpool.bulk.size = ${?ADA_ELASTIC_THREADPOOL_BULK_SIZE}

elastic {
  uri: ${?ADA_ELASTIC_DB_HOST}
  cluster.name: ${?ADA_ELASTIC_DB_CLUSTER_NAME}
  type: "transport"
  client.transport.sniff: true
  client.transport.ping_timeout: 80s
  threadpool.index.size: ${?ADA_ELASTIC_THREADPOOL_INDEX_SIZE} //${elasticdb.threadpool.index.size}
  threadpool.index.queue_size: 10000
  threadpool.bulk.size: ${?ADA_ELASTIC_THREADPOOL_BULK_SIZE} //${elasticdb.threadpool.bulk.size}
  threadpool.bulk.queue_size: 1000
  scroll.batch.size: 50000
}